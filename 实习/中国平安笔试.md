# 中国平安笔试

## 算法题

以‘,‘分隔的字符串中有一个数字出现的次数超过了字符串长度的一半，怎么找出这个数字。输入一个以,分隔的整数字符串，输出字符串中出优先次数超过一半的数字



# 应该是字符串空的时候和只有一个数字  出问题了把  可以试一下 自测输入一下 null

```java
public class Solution {
    // 方法1：使用HashMap统计频次
    public static int findMajorityElement1(String input) {
        // 将输入字符串转换为整数数组
        String[] nums = input.split(",");
        Map<Integer, Integer> countMap = new HashMap<>();
        
        // 统计每个数字出现的次数
        for (String num : nums) {
            int n = Integer.parseInt(num);
            countMap.put(n, countMap.getOrDefault(n, 0) + 1);
        }
        
        // 找出出现次数超过一半的数字
        int halfLength = nums.length / 2;
        for (Map.Entry<Integer, Integer> entry : countMap.entrySet()) {
            if (entry.getValue() > halfLength) {
                return entry.getValue();
            }
        }
        return -1; // 如果没有找到则返回-1
    }
    
    // 方法2：摩尔投票算法
    public static int findMajorityElement2(String input) {
        String[] nums = input.split(",");
        int candidate = Integer.parseInt(nums[0]);
        int count = 1;
        
        // 投票过程
        for (int i = 1; i < nums.length; i++) {
            int num = Integer.parseInt(nums[i]);
            if (count == 0) {
                candidate = num;
                count = 1;
            } else if (candidate == num) {
                count++;
            } else {
                count--;
            }
        }
        
        // 验证候选数字是否真的超过一半
        count = 0;
        for (String num : nums) {
            if (Integer.parseInt(num) == candidate) {
                count++;
            }
        }
        
        return count > nums.length / 2 ? candidate : -1;
    }
    
    public static void main(String[] args) {
        // 测试用例
        String input = "1,2,2,2,3";
        System.out.println("使用HashMap方法结果：" + findMajorityElement1(input));
        System.out.println("使用摩尔投票算法结果：" + findMajorityElement2(input));
    }
}
```

